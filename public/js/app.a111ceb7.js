(function(t){function e(e){for(var n,i,o=e[0],c=e[1],u=e[2],d=0,p=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(p.length)p.shift()();return s.push.apply(s,u||[]),r()}function r(){for(var t,e=0;e<s.length;e++){for(var r=s[e],n=!0,o=1;o<r.length;o++){var c=r[o];0!==a[c]&&(n=!1)}n&&(s.splice(e--,1),t=i(i.s=r[0]))}return t}var n={},a={app:0},s=[];function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=n,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;s.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"0ba4":function(t,e,r){"use strict";r("591e")},1:function(t,e){},"3c61":function(t,e,r){},"437c":function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},s=[],i=(r("6294"),r("2877")),o={},c=Object(i["a"])(o,a,s,!1,null,null,null),u=c.exports,l=r("9483");Object(l["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var d=r("8c4f"),p=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"home"},[r("div",{attrs:{id:"nav"}},[r("router-link",{attrs:{to:"/"}},[t._v("Home")]),t._v(" "),r("router-link",{attrs:{to:"/about"}},[t._v("About")]),r("router-link",{attrs:{to:"/board/60f57a5e8ee2f1ab23e50183"}},[t._v("Boards")])],1),r("section",{staticClass:"back"}),r("button",{staticClass:"aaa",on:{click:t.start}},[t._v("start as guest")]),r("button",{staticClass:"aaa",on:{click:function(e){t.dialogVisible=!0}}},[t._v("login")]),r("el-dialog",{attrs:{visible:t.dialogVisible,width:"30%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[r("login-signup",{on:{"login-signup":t.handleClose}}),r("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("Cancel")])],1)],1)},m=[],f=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"login-signup"},[r("el-tabs",{model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[r("el-tab-pane",{staticClass:"tab-label",attrs:{label:"Login",name:"login"}},[r("el-form",{attrs:{"label-width":"100px",model:t.userCreds}},[r("el-form-item",{attrs:{label:"username"}},[r("el-input",{model:{value:t.userCreds.username,callback:function(e){t.$set(t.userCreds,"username",e)},expression:"userCreds.username"}})],1),r("el-form-item",{attrs:{label:"password"}},[r("el-input",{model:{value:t.userCreds.password,callback:function(e){t.$set(t.userCreds,"password",e)},expression:"userCreds.password"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:t.onLogin}},[t._v("Login")])],1)],1)],1),r("el-tab-pane",{attrs:{label:"Sign Up",name:"signup"}},[r("el-form",{attrs:{"label-width":"100px",model:t.userCreds}},[r("el-form-item",{attrs:{label:"Full name"}},[r("el-input",{model:{value:t.userCreds.fullname,callback:function(e){t.$set(t.userCreds,"fullname",e)},expression:"userCreds.fullname"}})],1),r("el-form-item",{attrs:{label:"username"}},[r("el-input",{model:{value:t.userCreds.username,callback:function(e){t.$set(t.userCreds,"username",e)},expression:"userCreds.username"}})],1),r("el-form-item",{attrs:{label:"password"}},[r("el-input",{model:{value:t.userCreds.password,callback:function(e){t.$set(t.userCreds,"password",e)},expression:"userCreds.password"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:t.onSignup}},[t._v("Signup")])],1)],1)],1)],1),t._v(" Tabs: select login or signup Signup form Login form ")],1)},g=[],h=r("1da1"),v=(r("7db0"),r("96cf"),r("af87")),w=(r("d3b7"),r("c740"),r("a434"),{query:b,get:k,post:y,put:x,remove:_});function b(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,r=JSON.parse(localStorage.getItem(t))||[];return new Promise((function(t){return setTimeout((function(){return t(r)}),e)}))}function k(t,e){return b(t).then((function(t){return t.find((function(t){return t._id===e}))}))}function y(t,e){return e._id=C(),b(t).then((function(r){return r.unshift(e),B(t,r),e}))}function x(t,e){return b(t).then((function(r){var n=r.findIndex((function(t){return t._id===e._id}));return r.splice(n,1,e),B(t,r),e}))}function _(t,e){return b(t).then((function(r){var n=r.findIndex((function(t){return t._id===e}));if(n<0)throw new Error("Unknown Entity ".concat(e));r.splice(n,1),B(t,r)}))}function B(t,e){localStorage.setItem(t,JSON.stringify(e))}function C(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,e="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<t;n++)e+=r.charAt(Math.floor(Math.random()*r.length));return e}var O="somedayUser",S={login:$,logout:G,signup:R,getUsers:T,getById:E,remove:N,update:I,getLoggedinUser:M};function T(){return w.query(O)}function E(t){return w.get(O,t)}function N(t){return w.remove(O,t)}function I(t){return D.apply(this,arguments)}function D(){return D=Object(h["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",w.put(O,e));case 1:case"end":return t.stop()}}),t)}))),D.apply(this,arguments)}function $(t){return j.apply(this,arguments)}function j(){return j=Object(h["a"])(regeneratorRuntime.mark((function t(e){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,w.query(O);case 2:if(r=t.sent,n=r.find((function(t){return t.username===e.username})),n){t.next=6;break}return t.abrupt("return",v["Promise"].reject("user not found try again"));case 6:return t.abrupt("return",U(n));case 7:case"end":return t.stop()}}),t)}))),j.apply(this,arguments)}function R(t){return A.apply(this,arguments)}function A(){return A=Object(h["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,w.post(O,e);case 2:return r=t.sent,t.abrupt("return",U(r));case 4:case"end":return t.stop()}}),t)}))),A.apply(this,arguments)}function G(){return J.apply(this,arguments)}function J(){return J=Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:sessionStorage.clear();case 1:case"end":return t.stop()}}),t)}))),J.apply(this,arguments)}function U(t){return sessionStorage.setItem("loggedinUser",JSON.stringify(t)),t}function M(){return console.log("logged in as",JSON.parse(sessionStorage.getItem("loggedinUser")||"null")),JSON.parse(sessionStorage.getItem("loggedinUser")||"null")}window.userService=S;var F={data:function(){return{activeTab:"login",userCreds:{fullname:"",username:"",password:""}}},computed:{isSignup:function(){return"signup"===this.activeTab}},methods:{selectTab:function(t){this.activeTab=t},onSignup:function(){console.log("signup"),S.signup(this.userCreds),this.$emit("login-signup",!0),this.userCreds={fullname:"",username:"",password:""},this.$store.commit({type:"setLoggedinUser"})},onLogin:function(){console.log("login"),S.login(this.userCreds).then((function(t){return console.log(t)})).catch((function(t){return console.error(t)})),this.$emit("login-signup",!0),this.userCreds={fullname:"",username:"",password:""},this.$store.commit({type:"setLoggedinUser"})}}},P=F,L=Object(i["a"])(P,f,g,!1,null,null,null),q=L.exports,z={components:{loginSignup:q},name:"home",data:function(){return{dialogVisible:!1}},computed:{initBoard:function(){return this.$store.getters.boards[0]._id}},methods:{start:function(){this.$router.push("/board/".concat(this.initBoard))},handleClose:function(){this.dialogVisible=!1},login:function(){this.$router.push("login")}}},H=z,V=Object(i["a"])(H,p,m,!1,null,null,null),Y=V.exports,K=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},W=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"about"},[r("h1",[t._v("This is an about page")])])}],Z={},Q=Object(i["a"])(Z,K,W,!1,null,null,null),X=Q.exports,tt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"board-app"},[r("navbar"),r("board-list",{attrs:{boards:t.boards}}),r("router-view")],1)},et=[],rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"navbar"},[n("section",{staticClass:"task-action"},[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Homepage",placement:"right"}},[n("router-link",{attrs:{to:"/",title:"logo"}},[n("img",{staticClass:"logo-monday",attrs:{src:r("e537"),alt:""}})])],1),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Boards",placement:"right"}},[n("router-link",{attrs:{to:"/board",title:"boards"}},[n("i",{staticClass:"fas fa-th-large fa-lg"})])],1),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Notifications",placement:"right"}},[n("router-link",{attrs:{to:"/board/456",title:"notification"}},[n("i",{staticClass:"far fa-bell fa-lg"})])],1)],1),n("section",{staticClass:"user-details"},[t._v("Hi Guest")]),n("section",{staticClass:"user-action"},[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Calender",placement:"right"}},[n("router-link",{attrs:{to:"/calendar",title:"my week"}},[n("i",{staticClass:"far fa-calendar-check fa-lg"})])],1),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"My Profile",placement:"right"}},[n("router-link",{attrs:{to:"/board/123",title:"my profile"}},[n("i",{staticClass:"fas fa-user-circle fa-lg"})])],1),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Log Out",placement:"right"}},[n("router-link",{attrs:{to:"/",title:"loguot"}},[n("i",{staticClass:"fas fa-sign-out-alt fa-lg"})])],1)],1)])},nt=[],at={},st=at,it=Object(i["a"])(st,rt,nt,!1,null,null,null),ot=it.exports,ct=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",[r("i",{directives:[{name:"show",rawName:"v-show",value:t.isNavOpen,expression:"isNavOpen"}],staticClass:"arrow far fa-arrow-alt-circle-left",class:{close:!t.isNavOpen},on:{click:t.closeNav}}),r("i",{directives:[{name:"show",rawName:"v-show",value:!t.isNavOpen,expression:"!isNavOpen"}],staticClass:"arrow far fa-arrow-alt-circle-right",class:{close:!t.isNavOpen},on:{click:t.closeNav}}),r("transition",{attrs:{name:"fade"}},[r("section",{staticClass:"board-list",class:{close:!t.isNavOpen}},[r("p",{directives:[{name:"show",rawName:"v-show",value:t.isNavOpen,expression:"isNavOpen"}],staticClass:"title"},[t._v("Boards")]),r("section",{directives:[{name:"show",rawName:"v-show",value:t.isNavOpen,expression:"isNavOpen"}],staticClass:"board-list-actions"},[r("article",{staticClass:"action act-add",on:{click:t.addBoard}},[r("i",{staticClass:"fas fa-plus fa-sm"}),r("span",[t._v("Add board")])]),r("article",{staticClass:"action"},[r("el-input",{staticClass:"act-search",attrs:{size:"medium",placeholder:"Search"},on:{input:t.setFilter},model:{value:t.filterBy.txt,callback:function(e){t.$set(t.filterBy,"txt",e)},expression:"filterBy.txt"}},[r("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})])],1)]),r("section",{directives:[{name:"show",rawName:"v-show",value:t.isNavOpen,expression:"isNavOpen"}],staticClass:"board-list-items"},[r("p",{directives:[{name:"show",rawName:"v-show",value:t.isNavOpen,expression:"isNavOpen"}],staticClass:"title"},[r("i",{staticClass:"far fa-star"}),t._v(" Favorites")]),t._l(t.boards,(function(e,n){return r("board-preview",{directives:[{name:"show",rawName:"v-show",value:e.isFavorite,expression:"board.isFavorite"}],key:n,attrs:{miniBoard:e},on:{deleteBoard:t.deleteBoard,addToFavorites:t.addToFavorites,duplicateBoard:t.duplicateBoard,updateBoardName:t.updateBoardName}})})),r("el-divider"),r("p",{directives:[{name:"show",rawName:"v-show",value:t.isNavOpen,expression:"isNavOpen"}],staticClass:"title"},[r("i",{staticClass:"fas fa-border-all"}),t._v(" All Boards ")]),t._l(t.boards,(function(e){return r("board-preview",{key:e._id,attrs:{miniBoard:e},on:{deleteBoard:t.deleteBoard,addToFavorites:t.addToFavorites,duplicateBoard:t.duplicateBoard,updateBoardName:t.updateBoardName}})}))],2)])])],1)},ut=[],lt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("article",{staticClass:"board-preview",on:{click:function(e){return t.setBoard(t.miniBoard._id)}}},[r("div",{staticClass:"texts"},[r("i",{staticClass:"fas fa-th-list"}),r("span",{directives:[{name:"show",rawName:"v-show",value:!t.isEditingState||t.currEditedBoard!=t.miniBoard._id,expression:"!isEditingState || currEditedBoard != miniBoard._id"}]},[t._v(t._s(t.miniBoard.title))]),r("input",{directives:[{name:"show",rawName:"v-show",value:t.isEditingState&&t.currEditedBoard==t.miniBoard._id,expression:"isEditingState && currEditedBoard == miniBoard._id"},{name:"model",rawName:"v-model",value:t.newTitle,expression:"newTitle"}],ref:t.miniBoard._id,staticClass:"input",attrs:{type:"text"},domProps:{value:t.newTitle},on:{blur:function(e){return t.updateBoardName(t.miniBoard._id)},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.updateBoardName(t.miniBoard._id)},input:function(e){e.target.composing||(t.newTitle=e.target.value)}}})]),r("el-dropdown",{attrs:{trigger:"hover"}},[r("span",{staticClass:"el-dropdown-link"},[r("i",{staticClass:"fas fa-ellipsis-h"})]),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{nativeOn:{click:function(e){return t.openInNewTab(t.miniBoard._id)}}},[r("i",{staticClass:"fas fa-external-link-alt"}),t._v(" Open in New Tab")]),r("el-dropdown-item",{attrs:{icon:"el-icon-edit",divided:""},nativeOn:{click:function(e){return t.setToEdit(t.miniBoard._id)}}},[t._v("Rename Board")]),r("el-dropdown-item",{attrs:{icon:"el-icon-document-copy"},nativeOn:{click:function(e){return t.duplicateBoard(t.miniBoard._id)}}},[t._v("Duplicate Board")]),t.miniBoard.isFavorite?t._e():r("el-dropdown-item",{attrs:{icon:"el-icon-star-on"},nativeOn:{click:function(e){return t.addToFavorites(t.miniBoard._id)}}},[t._v(" Add to favorites ")]),t.miniBoard.isFavorite?r("el-dropdown-item",{attrs:{icon:"el-icon-star-off"},nativeOn:{click:function(e){return t.addToFavorites(t.miniBoard._id)}}},[t._v(" Remove from favorites ")]):t._e(),r("el-dropdown-item",{attrs:{icon:"el-icon-delete-solid",divided:""},nativeOn:{click:function(e){return t.deleteBoard(t.miniBoard._id)}}},[t._v("Delete")])],1)],1)],1)},dt=[],pt={props:{miniBoard:{type:Object,required:!0}},data:function(){return{active:!1,isContextMenuShown:!1,newTitle:this.miniBoard.title,isEditingState:!1,currEditedBoard:null}},methods:{setBoard:function(t){var e;(null===(e=this.$store.getters.currBoard)||void 0===e?void 0:e._id)!==t&&this.$router.push("/board/".concat(t))},setToEdit:function(t){var e=this;setTimeout((function(){e.$refs[t].focus()}),0),this.currEditedBoard=t,this.isEditingState=!0},updateBoardName:function(t){console.log("boardId :>> ",t),this.$emit("updateBoardName",this.newTitle,t),this.isEditingState=!1,this.currEditedBoard=null},deleteBoard:function(t){this.$emit("deleteBoard",t)},addToFavorites:function(t){this.$emit("addToFavorites",t)},openInNewTab:function(t){window.open("http://localhost:8080/board/".concat(t),"_blank").focus()},duplicateBoard:function(t){this.$emit("duplicateBoard",t)}},watch:{miniBoard:function(){this.newTitle=this.miniBoard.title}}},mt=pt,ft=Object(i["a"])(mt,lt,dt,!1,null,null,null),gt=ft.exports,ht=(r("159b"),r("4de4"),r("4d63"),r("ac1f"),r("25f0"),r("99af"),r("bc3a")),vt=r.n(ht),wt="/api/",bt=vt.a.create({withCredentials:!0}),kt={get:function(t,e){return yt(t,"GET",e)},post:function(t,e){return yt(t,"POST",e)},put:function(t,e){return yt(t,"PUT",e)},delete:function(t,e){return yt(t,"DELETE",e)}};function yt(t){return xt.apply(this,arguments)}function xt(){return xt=Object(h["a"])(regeneratorRuntime.mark((function t(e){var r,n,a,s=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:"GET",n=s.length>2&&void 0!==s[2]?s[2]:null,t.prev=2,t.next=5,bt({url:"".concat(wt).concat(e),method:r,data:n,params:"GET"===r?n:null});case 5:return a=t.sent,t.abrupt("return",a.data);case 9:throw t.prev=9,t.t0=t["catch"](2),console.log("Had Issues ".concat(r,"ing to the backend, endpoint: ").concat(e,", with data: ").concat(n)),console.dir(t.t0),t.t0.response&&401===t.t0.response.status&&(void 0).push("/login"),t.t0;case 15:case"end":return t.stop()}}),t,null,[[2,9]])}))),xt.apply(this,arguments)}r("d81d"),r("a15b"),r("4e82"),r("fb6a");var _t={makeId:Bt,getRandomInt:Ct,displayedTimestamp:Ot,msToShortDate:St};function Bt(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,e="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<t;n++)e+=r.charAt(Math.floor(Math.random()*r.length));return e}function Ct(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}function Ot(t){var e=new Date(t),r=new Date,n=e.getFullYear(),a=e.getMonth(),s=e.getDate();if(r.getFullYear()===n&&r.getMonth()===a&&r.getDate()===s){var i=("0"+e.getHours()).substr(-2,2),o=("0"+e.getMinutes()).substr(-2,2);return"".concat(i," : ").concat(o)}return"".concat(s+1," - ").concat(a+1," - ").concat(n)}function St(t){var e=new Date(t),r=("0"+(e.getDate()+1)).slice(-2),n=("0"+(e.getMonth()+1)).slice(-2),a=("0"+e.getFullYear()).slice(-4);return"".concat(r,"/").concat(n,"/").concat(a)}var Tt={delegates:{init:It,txt:Et,matches:Nt,compare:Dt},date:{init:Rt,txt:$t,matches:jt,compare:At},status:{init:Ut,txt:Gt,matches:Jt,compare:Mt},tags:{init:Lt,txt:Ft,matches:Pt,compare:qt},componentType:function(t){switch(t){case"delegates":return"person-column";case"status":return"status-column";case"date":return"date-column";case"tags":return"tags-column";default:console.log("bad column type - ",t)}},componentSummeryType:function(t){switch(t){case"delegates":return"person-summery-column";case"status":return"status-summery-column";case"date":return"date-summery-column";case"tags":return"tags-summery-column";default:console.log("bad column type - ",t)}}};function Et(t){var e=t.map((function(t){return t.fullname}));return e.join(" ")}function Nt(t,e){return t.some((function(t){return t._id===e._id}))}function It(){return[]}function Dt(t,e){var r=t.columns["delegates"],n=e.columns["delegates"];if(r.length!==n.length)return r.length-n.length;if(0===r.length)return 0;var a=JSON.parse(JSON.stringify(r)).sort(),s=JSON.parse(JSON.stringify(n)).sort();return a[0].fullname-s[0].fullname}function $t(t){return _t.msToShortDate(t)}function jt(t,e){return t===e}function Rt(){return 0}function At(t,e){return t.columns["date"]-e.columns["date"]}function Gt(t){return t.txt}function Jt(t,e){return t.txt===e.txt}function Ut(){return{id:"s000",txt:"",color:"#c4c4c4"}}function Mt(t,e){var r=t.columns["status"].txt,n=e.columns["status"].txt;return console.log(r,n),r.localeCompare(n)}function Ft(t){var e=t.map((function(t){return t}));return e.join(" ")}function Pt(t,e){return t.some((function(t){return t===e}))}function Lt(){return[]}function qt(t,e){var r=t.columns["tags"],n=e.columns["tags"];if(r.length!==n.length)return r.length-n.length;if(0===r.length)return 0;var a=JSON.parse(JSON.stringify(r)).sort(),s=JSON.parse(JSON.stringify(n)).sort();return a[0].localeCompare(s[0])}var zt="board/",Ht={query:Vt,getById:Kt,remove:Zt,save:Xt,getEmptyBoard:ee,getEmptyGroup:re,getEmptyTask:ne,getEmptyFilter:ae,getActivitiesByItem:oe,getUpdatesByItem:ue,getEmptyUpdate:se,getEmptyActivity:ie};function Vt(){return Yt.apply(this,arguments)}function Yt(){return Yt=Object(h["a"])(regeneratorRuntime.mark((function t(){var e,r,n,a,s=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=s.length>0&&void 0!==s[0]?s[0]:{},e||(e=ae()),r=new RegExp(e.txt,"i"),t.next=5,kt.get(zt);case 5:return n=t.sent,a=n.filter((function(t){return r.test(t.title)})),t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)}))),Yt.apply(this,arguments)}function Kt(t){return Wt.apply(this,arguments)}function Wt(){return Wt=Object(h["a"])(regeneratorRuntime.mark((function t(e){var r,n,a,s,i=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{txt:""},t.next=3,kt.get(zt+e);case 3:return n=t.sent,a=new RegExp(r.txt,"i"),s=[],n.groups.forEach((function(t){if(a.test(t.title))s.push(t);else{var e=t.tasks.filter((function(t){return a.test(t.title)||n.columns.some((function(e){return a.test(Tt[e].txt(t.columns[e]))}))}));e.length&&(t.tasks=e,s.push(t))}})),n.groups=s,t.abrupt("return",n);case 9:case"end":return t.stop()}}),t)}))),Wt.apply(this,arguments)}function Zt(t){return Qt.apply(this,arguments)}function Qt(){return Qt=Object(h["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,kt.delete(zt+e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),Qt.apply(this,arguments)}function Xt(t){return te.apply(this,arguments)}function te(){return te=Object(h["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e._id){t.next=6;break}return t.next=3,kt.put(zt+e._id,e);case 3:return t.abrupt("return",t.sent);case 6:return t.next=8,kt.post(zt,e);case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),t)}))),te.apply(this,arguments)}function ee(){var t=JSON.parse(JSON.stringify(pe[0]));return console.log(t),t.groups.forEach((function(e){e.id=_t.makeId(),e.tasks.forEach((function(e){e.id=_t.makeId(),t.columns.forEach((function(t){return e.columns[t]=Tt[t].init()}))}))})),t}function re(){var t={id:_t.makeId(),title:"New group",createdAt:0,tasks:[],style:{color:de()}};return t}function ne(t){var e={id:_t.makeId(),title:"",createdAt:0,columns:{}};return t.columns.forEach((function(t){return e.columns[t]=Tt[t].init()})),e}function ae(){return{txt:"",sortBy:"title"}}function se(){return{id:_t.makeId(),itemId:"",createdAt:null,txt:"",createdBy:{_id:"",fullname:"",imgUrl:""},likedBy:[]}}function ie(){return{id:_t.makeId(),itemId:"",itemName:"",type:"",createdAt:null,createdBy:{_id:"",fullname:"",imgUrl:""},msg:""}}function oe(t){return ce.filter((function(e){return e.itemId===t}))}var ce=[{id:_t.makeId(),itemId:"t101",itemName:"Board list",type:"status",createdAt:Date.now(),createdBy:{_id:"u101",fullname:"Muki Suflaki",imgUrl:"http://some-img.jpg"},msg:"status change from stuck to done"},{id:_t.makeId(),itemId:"t101",itemName:"Board list",type:"delegates",createdAt:Date.now(),createdBy:{_id:"u101",fullname:"Muki Suflaki",imgUrl:"http://some-img.jpg"},msg:"Sharon Macaron was added from the task"},{id:_t.makeId(),itemId:"t101",itemName:"Board list",type:"delegates",createdAt:Date.now(),createdBy:{_id:"u101",fullname:"Muki Suflaki",imgUrl:"http://some-img.jpg"},msg:"Sharon Macaron was deleted from the task"},{id:_t.makeId(),itemId:"t101",itemName:"Board list",type:"rename",createdAt:Date.now(),createdBy:{_id:"u101",fullname:"Muki Suflaki",imgUrl:"http://some-img.jpg"},msg:"the title renamed from task to board list"},{id:_t.makeId(),itemId:"t101",itemName:"Board list",type:"timeline",createdAt:Date.now(),createdBy:{_id:"u101",fullname:"Rachel Bekarov",imgUrl:"http://some-img.jpg"},msg:"change date from 11/07/2021 to 18/07/2021"}];function ue(t){return le.filter((function(e){return e.itemId===t}))}var le=[{id:_t.makeId(),itemId:"t101",itemName:"Board list",createdAt:Date.now(),txt:"bla bla bla",createdBy:{_id:"u101",fullname:"Rachel Bekarov",imgUrl:"http://some-img.jpg"},likedBy:[]},{id:_t.makeId(),itemId:"t101",itemName:"Board list",createdAt:Date.now(),txt:"hi everyOne",createdBy:{_id:"u101",fullname:"Rachel Bekarov",imgUrl:"http://some-img.jpg"},likedBy:[]},{id:_t.makeId(),itemId:"t101",itemName:"Board list",createdAt:Date.now(),txt:"like it",createdBy:{_id:"u101",fullname:"Rachel Bekarov",imgUrl:"http://some-img.jpg"},likedBy:[{_id:"u103",fullname:"Sharon Macaron",imgUrl:"https://www.w3schools.com/howto/img_avatar.png"},{_id:"u104",fullname:"Eden Maran",imgUrl:"https://www.w3schools.com/howto/img_avatar.png"}]}];function de(){for(var t="0123456789ABCDEF",e="#",r=0;r<6;r++)e+=t[Math.floor(16*Math.random())];return e}var pe=[{title:"New board",description:"What is this board about...?",isFavorite:!1,createdAt:Date.now(),createdBy:{_id:"60f562f7a22a0da5023ec2be",fullname:"Avior Hagibor",imgUrl:"https://www.w3schools.com/howto/img_avatar.png"},columns:["status","date","delegates","tags"],groups:[{id:"g101",title:"Group 1",tasks:[{id:"t101",title:"Item 1",createdAt:Date.now(),columns:{delegates:[],status:{id:"s000",txt:"",color:"#c4c4c4"},date:Date.now(),tags:["UI","DB"]}},{id:"t102",title:"Item 2",createdAt:Date.now(),columns:{delegates:[],status:{id:"s000",txt:"",color:"#c4c4c4"},date:Date.now(),tags:["front-end"]}},{id:"t103",title:"Item 3",createdAt:Date.now(),columns:{delegates:[],status:{id:"s000",txt:"",color:"#c4c4c4"},date:Date.now(),tags:[]}}],style:{color:"rgba(196, 27, 182, 1)"}},{id:"g201",title:"Group II",tasks:[{id:"t201",title:"Item 4",createdAt:Date.now(),columns:{delegates:[],status:{id:"s000",txt:"",color:"#c4c4c4"},date:Date.now(),tags:[]}},{id:"t202",title:"Item 5",createdAt:Date.now(),columns:{delegates:[],status:{id:"s000",txt:"",color:"#c4c4c4"},date:Date.now(),tags:["UI"]}}],style:{color:"rgba(30, 144, 255, 1)"}}],members:[{_id:"60f562f7a22a0da5023ec2be",fullname:"Avior Hagibor",imgUrl:"https://www.w3schools.com/howto/img_avatar.png"},{_id:"60f5642ea22a0da5023ec2bf",fullname:"Rachel Bekarov",imgUrl:"https://www.iconninja.com/files/980/282/508/female-blond-avatar-person-girl-user-woman-icon.png"},{_id:"60f5644aa22a0da5023ec2c0",fullname:"Sharon Macaron",imgUrl:"https://www.w3schools.com/howto/img_avatar.png"},{_id:"60f7b029c66d343ab4f0c562",fullname:"Eden Maran",imgUrl:"https://www.iconninja.com/files/980/282/508/female-blond-avatar-person-girl-user-woman-icon.png"},{_id:"60f7b04ec66d343ab4f0c563",fullname:"Muki Suflaki",imgUrl:"https://www.w3schools.com/howto/img_avatar.png"},{_id:"60f7b064c66d343ab4f0c564",fullname:"Shimi Halimi",imgUrl:"https://www.iconninja.com/files/980/282/508/female-blond-avatar-person-girl-user-woman-icon.png"}],statuses:[{id:"s001",txt:"Done",color:"#33d391"},{id:"s002",txt:"In progress",color:"#fdbc64"},{id:"s003",txt:"Stuck",color:"#e8697d"},{id:"s000",txt:"",color:"#c4c4c4"}],tags:["front-end","back-end","UI","DB"],styles:{},activities:[]}],me={props:{boards:{type:Array,required:!0}},data:function(){return{isNavOpen:!0,filterBy:{txt:""},favBoards:[]}},methods:{closeNav:function(){this.isNavOpen=!this.isNavOpen},setFilter:function(){this.$store.dispatch({type:"setFilterList",filterBy:this.filterBy})},addBoard:function(){var t=this;this.$prompt("Please Enter Board Name","Add Board",{confirmButtonText:"OK",cancelButtonText:"Cancel",inputPattern:/\w*[a-zA-Z]\w*/,inputErrorMessage:"Invalid Name"}).then((function(e){var r=e.value,n=Ht.getEmptyBoard(),a=r;n.title=a,t.$store.dispatch({type:"saveBoard",board:n}),t.$message({type:"success",message:"Your Board Name is: "+r})})).catch((function(){t.$message({type:"info",message:"Input canceled"})}))},updateBoardName:function(t,e){var r=this.$store.getters.boards,n=r.find((function(t){return t._id===e})),a=JSON.parse(JSON.stringify(n));a.title=t,this.$store.dispatch({type:"saveMiniBoard",miniBoard:a})},deleteBoard:function(t){this.$store.dispatch({type:"removeBoard",boardId:t})},addToFavorites:function(t){var e=this.$store.getters.boards,r=e.find((function(e){return e._id===t})),n=JSON.parse(JSON.stringify(r));if(n.isFavorite=!n.isFavorite,n.isFavorite)this.favBoards.unshift(n);else{var a=this.favBoards.findIndex((function(t){return t._id===n._id}));this.favBoards.splice(a,1)}this.$store.dispatch({type:"saveMiniBoard",miniBoard:n})},duplicateBoard:function(t){this.$store.dispatch({type:"duplicateBoard",boardId:t})}},created:function(){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch({type:"loadBoards"});case 2:case"end":return e.stop()}}),e)})))()},components:{boardPreview:gt}},fe=me,ge=(r("84ff"),Object(i["a"])(fe,ct,ut,!1,null,null,null)),he=ge.exports,ve={computed:{boards:function(){return this.$store.getters.boards}},created:function(){},components:{navbar:ot,boardList:he}},we=ve,be=Object(i["a"])(we,tt,et,!1,null,null,null),ke=be.exports,ye=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"board-details"},[t.board?[t.board?n("board-header",{attrs:{board:t.board},on:{addNewGroup:t.addNewGroup,updateTitles:t.updateTitles,setFilter:t.setFilter}}):t._e(),t.board?n("group-list",{attrs:{groups:t.board.groups},on:{updateGroupName:t.updateGroupName,removeGroup:t.removeGroup,duplicateGroup:t.duplicateGroup,changeColor:t.changeColor,updateDrag:t.updateDrag,openTaskDetails:t.openTaskDetails}}):t._e(),n("router-view")]:n("div",{staticClass:"loader"},[n("img",{attrs:{src:r("fe2b"),alt:""}})])],2)},xe=[],_e=r("2909"),Be=r("8055"),Ce=r.n(Be),Oe="",Se=Te();function Te(){var t=null,e={setup:function(){return Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=Ce()(Oe);case 1:case"end":return e.stop()}}),e)})))()},on:function(e,r){t.on(e,r)},off:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t&&(r?t.off(e,r):t.removeAllListeners(e))},emit:function(e,r){console.log("in sockect emit",r),t.emit(e,r)},terminate:function(){t=null}};return e}window.socketService=Se;var Ee=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"board-header"},[r("div",{staticClass:"board-info"},[r("div",{staticClass:"board-title"},[r("div",{staticClass:"main-title"},[r("h2",{directives:[{name:"show",rawName:"v-show",value:!t.isEditingState||"title"!==t.currEditedTag,expression:"!isEditingState || currEditedTag !== 'title'"}],on:{click:function(e){return t.setToEdit("title")}}},[t._v(" "+t._s(t.board.title)+" ")]),r("input",{directives:[{name:"show",rawName:"v-show",value:t.isEditingState&&"title"===t.currEditedTag,expression:"isEditingState && currEditedTag === 'title'"},{name:"model",rawName:"v-model",value:t.board.title,expression:"board.title"}],ref:"title",attrs:{type:"text"},domProps:{value:t.board.title},on:{blur:t.updateTag,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.updateTag.apply(null,arguments)},input:function(e){e.target.composing||t.$set(t.board,"title",e.target.value)}}}),r("i",{staticClass:"fas fa-info-circle",on:{click:t.toggleDescription}})]),t.isDecriptionShown?r("div",{staticClass:"sub-title"},[r("p",{directives:[{name:"show",rawName:"v-show",value:!t.isEditingState||"description"!==t.currEditedTag,expression:"!isEditingState || currEditedTag !== 'description'"}],on:{click:function(e){return t.setToEdit("description")}}},[t._v(" "+t._s(t.board.description)+" ")]),r("textarea",{directives:[{name:"show",rawName:"v-show",value:t.isEditingState&&"description"===t.currEditedTag,expression:"isEditingState && currEditedTag === 'description'"},{name:"model",rawName:"v-model",value:t.board.description,expression:"board.description"}],ref:"description",attrs:{type:"textarea",rows:"4",cols:"50"},domProps:{value:t.board.description},on:{blur:t.updateTag,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.updateTag.apply(null,arguments)},input:function(e){e.target.composing||t.$set(t.board,"description",e.target.value)}}})]):t._e()]),r("div",{staticClass:"members"},[r("div",{staticClass:"members-avatars"},t._l(t.board.members,(function(t){return r("span",{key:t._id,staticClass:"avatar"},[r("avatar",{attrs:{size:30,src:t.imgUrl,username:t.fullname}})],1)})),0),r("el-popover",{attrs:{title:"Board Members",placement:"right",width:"400",trigger:"click"}},[r("el-table",{attrs:{data:t.members}},[r("el-table-column",{attrs:{property:"fullname",label:"Fullname"}})],1),r("el-button",{attrs:{slot:"reference",size:"mini"},slot:"reference"},[t._v("Show Board Memebrs")])],1)],1)]),r("div",{staticClass:"board-actions"},[r("el-button",{attrs:{size:"small",type:"primary"},nativeOn:{click:function(e){return t.addGroup.apply(null,arguments)}}},[t._v(" New Group ")]),r("el-input",{attrs:{size:"small",placeholder:"Search something","prefix-icon":"el-icon-search"},on:{input:t.setFilter},model:{value:t.filterBy.txt,callback:function(e){t.$set(t.filterBy,"txt",e)},expression:"filterBy.txt"}}),r("el-dropdown",{attrs:{trigger:"click"}},[r("el-button",{staticClass:"btn-filter",attrs:{size:"medium",type:"primary"}},[r("i",{staticClass:"el-icon-s-custom"}),t._v(" Person ")]),t.board.members?r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{nativeOn:{click:function(e){return t.setFilterPerson("")}}},[t._v(" All ")]),t._l(t.board.members,(function(e){return r("el-dropdown-item",{key:e._id,nativeOn:{click:function(r){return t.setFilterPerson(e.fullname)}}},[t._v(" "+t._s(e.fullname)+" ")])}))],2):t._e()],1)],1)])},Ne=[],Ie=r("4a89"),De=r.n(Ie),$e={props:{board:Object},data:function(){return{isEditingState:!1,currEditedTag:null,isDecriptionShown:!0,filterBy:{txt:""},isMembersShown:!1,members:null}},created:function(){this.members=this.board.members},methods:{showBoardMembers:function(){this.isMembersShown=!this.isMembersShown},setToEdit:function(t){var e=this;this.isEditingState=!0,this.currEditedTag=t,setTimeout((function(){e.$refs[t].focus()}),0)},updateTag:function(){this.$emit("updateTitles",this.board),this.isEditingState=!1,this.currEditedTag=null},toggleDescription:function(){this.isDecriptionShown=!this.isDecriptionShown},addGroup:function(){this.$emit("addNewGroup")},setFilter:function(){this.$emit("setFilter",this.filterBy)},setFilterPerson:function(t){console.log("person :>> ",t),this.filterBy.txt=t,this.$emit("setFilter",this.filterBy)}},components:{Avatar:De.a}},je=$e,Re=Object(i["a"])(je,Ee,Ne,!1,null,null,null),Ae=Re.exports,Ge=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.groups?r("section",{staticClass:"group-list"},[r("draggable",{attrs:{"ghost-class":"ghost",handle:".handle-group"},on:{start:t.onStart,end:t.onEnd},model:{value:t.groupsCopy,callback:function(e){t.groupsCopy=e},expression:"groupsCopy"}},[r("transition-group",{attrs:{type:"transition",name:"flip-list"}},t._l(t.groupsCopy,(function(e){return r("ul",{key:e.id,staticClass:"sortable"},[r("div",{staticClass:"group-details"},[r("div",{staticClass:"preview-group"},[r("div",{staticClass:"group-title"},[r("el-dropdown",{attrs:{trigger:"click"}},[r("el-button",{staticClass:"btn-more-groups",attrs:{size:"mini"}},[r("i",{staticClass:" group-dropdown-menu fas fa-chevron-circle-down",style:{color:e.style.color}})]),r("el-dropdown-menu",{attrs:{slot:"dropdown",trigger:"click",size:"medium"},slot:"dropdown"},[r("el-dropdown-item",{nativeOn:{click:function(r){return t.collapseSingleGroup(e.id)}}},[r("i",{staticClass:"fas fa-compress-alt"}),t._v(" Collapse this group ")]),r("el-dropdown-item",{nativeOn:{click:function(e){return t.collapseGroups.apply(null,arguments)}}},[r("i",{staticClass:"fas fa-compress-alt"}),t._v(" Collapse All Groups ")]),r("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(r){return t.openSingleGroup(e.id)}}},[r("i",{staticClass:"fas fa-expand-alt"}),t._v(" Open this group ")]),r("el-dropdown-item",{nativeOn:{click:function(e){return t.openGroups.apply(null,arguments)}}},[r("i",{staticClass:"fas fa-expand-alt"}),t._v(" Open All Groups ")]),r("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(r){return t.setToEdit(e,e.id)}}},[r("i",{staticClass:"fas fa-pen"}),t._v(" Rename Group ")]),r("el-dropdown-item",{nativeOn:{click:function(r){return t.removeGroup(e)}}},[r("i",{staticClass:"far fa-trash-alt"}),t._v(" Delete Group ")]),r("el-dropdown-item",{nativeOn:{click:function(r){return t.duplicateGroup(e)}}},[r("i",{staticClass:"far fa-copy"}),t._v(" Duplicate Group ")]),r("el-dropdown-item",{staticClass:"color-change",attrs:{divided:""}},[r("i",{staticClass:"fas fa-palette"}),t._v(" change color "),r("el-color-picker",{attrs:{"show-alpha":"",predefine:t.predefineColors},on:{change:function(r){return t.changeColor(e)}},model:{value:e.style.color,callback:function(r){t.$set(e.style,"color",r)},expression:"group.style.color"}})],1)],1)],1),r("li",{directives:[{name:"show",rawName:"v-show",value:!t.isEditingState||t.currEditedGroup!=e.id,expression:"!isEditingState || currEditedGroup != group.id"}],staticClass:"group-title handle-group",style:{color:e.style.color},on:{click:function(r){return t.setToEdit(e,e.id)}}},[t._v(" "+t._s(e.title)+" ")]),r("input",{directives:[{name:"show",rawName:"v-show",value:t.isEditingState&&t.currEditedGroup==e.id,expression:"isEditingState && currEditedGroup == group.id"},{name:"model",rawName:"v-model",value:e.title,expression:"group.title"}],ref:e.id,refInFor:!0,staticClass:"input",attrs:{type:"text"},domProps:{value:e.title},on:{blur:function(r){return t.updateGroupName(e)},keydown:function(r){return!r.type.indexOf("key")&&t._k(r.keyCode,"enter",13,r.key,"Enter")?null:t.updateGroupName(e)},input:function(r){r.target.composing||t.$set(e,"title",r.target.value)}}})],1),r("div",[r("draggable",{staticClass:"columns",model:{value:t.columns,callback:function(e){t.columns=e},expression:"columns"}},t._l(t.columns,(function(n,a){return r("div",{key:a,staticClass:"column-title",on:{click:function(r){return t.sortBy(n,e.tasks)}}},[r("i",{staticClass:"fas fa-grip-vertical"}),t._v(" "+t._s(n)+" "),r("i",{class:t.columnSortIcon(n)})])})),0)],1)])]),r("task-list",{directives:[{name:"show",rawName:"v-show",value:!t.isAllCollapse&&!t.collapsedGroups.includes(e.id),expression:"!isAllCollapse && !collapsedGroups.includes(group.id)"}],attrs:{tasks:e.tasks,color:e.style,group:e,groupId:e.id},on:{openTaskDetails:t.openTaskDetails}})],1)})),0)],1)],1):t._e()},Je=[],Ue=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"task-list"},[r("draggable",{attrs:{"ghost-class":"ghost",group:"tasks",handle:".handle-task"},on:{change:t.changeTasks},model:{value:t.tasksCopy,callback:function(e){t.tasksCopy=e},expression:"tasksCopy"}},[r("transition-group",{attrs:{type:"transition",name:"flip-list"}},t._l(t.tasksCopy,(function(e,n){return r("task-preview",{key:n,staticClass:"style-task sortable",style:{borderColor:t.color.color},attrs:{task:e,groupId:t.groupId},on:{openTaskDetails:t.openTaskDetails}})})),1)],1),r("form",{on:{submit:function(e){return e.preventDefault(),t.addTask.apply(null,arguments)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.taskToAdd.title,expression:"taskToAdd.title"}],staticClass:"style-task add-input",style:{borderColor:t.color.color},attrs:{type:"text",placeholder:"+ Add"},domProps:{value:t.taskToAdd.title},on:{input:function(e){e.target.composing||t.$set(t.taskToAdd,"title",e.target.value)}}})]),r("div",{staticClass:"summery"},t._l(t.summeryComponents,(function(e,n){return r(e,{key:n,tag:"component",attrs:{group:t.group,groupId:t.groupId}})})),1)],1)},Me=[],Fe=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"task-preview"},[r("el-dropdown",{staticClass:"dropdown",attrs:{trigger:"click"}},[r("el-button",{attrs:{size:"mini"}},[r("i",{staticClass:"fas fa-caret-square-down icon"})]),r("el-dropdown-menu",{attrs:{slot:"dropdown",trigger:"click",size:"medium"},slot:"dropdown"},[r("el-dropdown-item",{nativeOn:{click:function(e){return t.removeTask.apply(null,arguments)}}},[r("i",{staticClass:"far fa-trash-alt"}),t._v("Remove task")]),r("el-dropdown-item",{nativeOn:{click:function(e){return t.toggleEdit(!0)}}},[r("i",{staticClass:"fas fa-pen"}),t._v("Rename title")]),r("el-dropdown-item",{nativeOn:{click:function(e){return t.duplicateTask.apply(null,arguments)}}},[r("i",{staticClass:"far fa-copy"}),t._v("Duplicate task")]),r("el-dropdown-item",{nativeOn:{click:function(e){return t.openTaskDetails.apply(null,arguments)}}},[r("i",{staticClass:"far fa-comments open-chat",on:{click:t.openTaskDetails}},[t._v(" Open chat ")])])],1)],1),r("div",{staticClass:"task-title",class:t.isEdit,on:{mouseover:function(e){return t.togglehover(!0)},mouseleave:function(e){return t.togglehover(!1)},click:t.openTaskDetails}},[t.isEditTitle?[r("input",{directives:[{name:"model",rawName:"v-model",value:t.currTask.title,expression:"currTask.title"}],ref:"editTitle",attrs:{type:"text"},domProps:{value:t.currTask.title},on:{blur:t.updateTask,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.updateTask.apply(null,arguments)},input:function(e){e.target.composing||t.$set(t.currTask,"title",e.target.value)}}})]:r("section",{staticClass:"title-task handle-task"},[r("p",[t._v(t._s(t.task.title))]),t.isHover?r("button",{on:{click:function(e){return e.stopPropagation(),t.toggleEdit(!0)}}},[t._v("Edit")]):t._e()]),r("i",{staticClass:"far fa-comment open-chat"})],2),t._l(t.currBoard.columns,(function(e){return r(t.componentType(e),{key:e,tag:"component",staticClass:"dynamic-column",attrs:{board:t.currBoard},on:{input:t.updateTask,"add-activity":t.addActivity},model:{value:t.currTask.columns[e],callback:function(r){t.$set(t.currTask.columns,e,r)},expression:"currTask.columns[column]"}})}))],2)},Pe=[],Le=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"person-column"},[r("section",{on:{click:t.togglePersonPicker}},[t.hasDelegates?r("section",{staticClass:"avatar-list"},t._l(t.newDelegates,(function(t){return r("div",{key:t._id},[r("avatar",{attrs:{username:t.fullname,inline:!0,size:27,src:t.imgUrl}})],1)})),0):r("section",[t._m(0)])]),this.isPickerOpen?r("person-picker",{attrs:{delegates:t.value,members:t.board.members},on:{"person-picker-close":t.togglePersonPicker,change:t.onDelegateListChange,input:t.onNewDelegateList}}):t._e()],1)},qe=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("span",[r("i",{staticClass:"far fa-user-circle empty-delegate-list"})])}],ze=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("transition",{attrs:{name:"person-picker"}},[r("section",{staticClass:"person-picker",on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.end.apply(null,arguments)}}},[r("section",{staticClass:"delegate-list"},[r("transition-group",{attrs:{name:"person-list"}},t._l(t.newDelegates,(function(e){return r("person-preview",{key:e._id,attrs:{person:e},on:{"item-selected":t.onRemoveDelegate}})})),1)],1),r("section",{staticClass:"member-list"},[r("transition-group",{attrs:{name:"person-list"}},t._l(t.newMembers,(function(e){return r("person-preview",{key:e._id,attrs:{person:e},on:{"item-selected":t.onAddDelegate}})})),1)],1)])])},He=[],Ve=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("article",{staticClass:"person-preview",on:{click:t.onSelected}},[r("avatar",{staticClass:"person-preview-avatar",attrs:{username:t.person.fullname,inline:!0,size:30,src:t.person.imgUrl}}),r("div",{staticClass:"person-preview-fullname"},[t._v(t._s(t.person.fullname))])],1)},Ye=[],Ke={props:{person:{type:Object,required:!0}},methods:{onSelected:function(){this.$emit("item-selected",this.person._id)}},components:{Avatar:De.a}},We=Ke,Ze=Object(i["a"])(We,Ve,Ye,!1,null,null,null),Qe=Ze.exports,Xe={props:{delegates:{},members:{type:Array,required:!0}},data:function(){return{newDelegates:[],newMembers:[],isDirty:!1}},created:function(){var t=this;this.delegates&&this.delegates.length&&(this.newDelegates=JSON.parse(JSON.stringify(this.delegates))),console.log("newDelegates",this.newDelegates),this.newMembers=this.members.filter((function(e){return!t.newDelegates.some((function(t){return t._id===e._id}))})),console.log("newMembers",this.newMembers)},methods:{onRemoveDelegate:function(t){var e=this.newDelegates.findIndex((function(e){return e._id===t})),r=this.newDelegates.splice(e,1)[0];this.newMembers.unshift(r),this.isDirty=!0,this.$emit("change",this.newDelegates)},onAddDelegate:function(t){var e=this.newMembers.findIndex((function(e){return e._id===t})),r=this.newMembers.splice(e,1)[0];this.newDelegates.unshift(r),this.isDirty=!0,this.$emit("change",this.newDelegates)},end:function(){console.log("end"),this.$emit("person-picker-close")}},beforeDestroy:function(){this.isDirty&&this.$emit("input",this.newDelegates)},components:{personPreview:Qe}},tr=Xe,er=Object(i["a"])(tr,ze,He,!1,null,null,null),rr=er.exports,nr={props:{value:{},board:{type:Object,required:!0}},data:function(){return{newDelegates:[],isPickerOpen:!1}},created:function(){this.value&&(this.newDelegates=JSON.parse(JSON.stringify(this.value)))},watch:{value:function(t){this.newDelegates=JSON.parse(JSON.stringify(t))}},methods:{togglePersonPicker:function(){console.log("togglePersonPicker"),this.isPickerOpen=!this.isPickerOpen},onNewDelegateList:function(t){this.$emit("add-activity",{type:"change person count",msg:"change person count to "+t.length}),this.$emit("input",t)},onDelegateListChange:function(t){this.newDelegates=t}},computed:{hasDelegates:function(){return!!this.newDelegates.length}},components:{personPicker:rr,Avatar:De.a}},ar=nr,sr=Object(i["a"])(ar,Le,qe,!1,null,null,null),ir=sr.exports,or=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.hasStatus?r("section",{staticClass:"status-column"},[r("div",{staticClass:"status-text",style:t.statusColor,on:{click:t.toggleStatusPicker}},[t._v(" "+t._s(t.newStatus.txt)+" ")]),r("transition",{attrs:{name:"status-picker"}},[this.isPickerOpen?r("status-picker",{staticClass:"status-picker",on:{input:t.onSelectStatus},model:{value:t.newStatus,callback:function(e){t.newStatus=e},expression:"newStatus"}}):t._e()],1)],1):t._e()},cr=[],ur=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("article",t._l(t.statuses,(function(e){return r("status-item",{key:e.id,attrs:{status:e},on:{"item-selected":t.onSelectStatus}})})),1)},lr=[],dr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"status-item",style:t.itemColor,on:{click:t.itemSelect}},[r("div",[t._v(t._s(t.status.txt))])])},pr=[],mr={props:{status:{type:Object,required:!0}},data:function(){return{}},computed:{itemColor:function(){return{"background-color":this.status.color}}},methods:{itemSelect:function(){this.$emit("item-selected",this.status)}}},fr=mr,gr=Object(i["a"])(fr,dr,pr,!1,null,null,null),hr=gr.exports,vr={props:{value:{type:Object,required:!0}},data:function(){return{newStatus:null,statuses:[{id:"s001",txt:"Done",color:"#33d391"},{id:"s002",txt:"In progress",color:"#fdbc64"},{id:"s003",txt:"Stuck",color:"#e8697d"},{id:"s000",txt:"",color:"#c4c4c4"}]}},methods:{onSelectStatus:function(t){this.$emit("input",t)}},created:function(){this.newStatus=JSON.parse(JSON.stringify(this.value))},components:{statusItem:hr}},wr=vr,br=Object(i["a"])(wr,ur,lr,!1,null,null,null),kr=br.exports,yr={props:{value:{},board:{type:Object,required:!0}},data:function(){return{newStatus:{txt:"",color:"#c4c4c4"},isPickerOpen:!1}},computed:{hasStatus:function(){return!!this.value},statusColor:function(){return{"background-color":this.newStatus.color}}},methods:{onStatusChange:function(){this.$emit("input",this.newStatus)},toggleStatusPicker:function(){this.isPickerOpen=!this.isPickerOpen},onSelectStatus:function(){this.toggleStatusPicker(),this.$emit("add-activity",{type:"change status",msg:"change status to "+this.newStatus.txt}),this.$emit("input",this.newStatus)}},created:function(){this.value?this.newStatus=JSON.parse(JSON.stringify(this.value)):this.newStatus={id:"s000",txt:"",color:"#c4c4c4"}},watch:{value:function(t){this.newStatus=JSON.parse(JSON.stringify(t))}},components:{statusPicker:kr}},xr=yr,_r=Object(i["a"])(xr,or,cr,!1,null,null,null),Br=_r.exports,Cr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-date-picker",{staticClass:"date-column",attrs:{type:"date",size:"mini",placeholder:"Pick a Date",format:"dd/MM/yyyy","value-format":"timestamp"},on:{change:t.onDateChange},model:{value:t.newDate,callback:function(e){t.newDate=e},expression:"newDate"}})},Or=[],Sr={props:{value:{},board:{type:Object,required:!0}},data:function(){return{newDate:0}},computed:{hasDate:function(){return!!this.value}},methods:{onDateChange:function(){var t=new Date(this.newDate);console.log(t.getDay()),this.$emit("add-activity",{type:"change date",msg:"change date to "+t.getDay()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()}),this.$emit("input",this.newDate)}},created:function(){this.value&&(this.newDate=this.value)},watch:{value:function(t){this.newDate=t}}},Tr=Sr,Er=Object(i["a"])(Tr,Cr,Or,!1,null,null,null),Nr=Er.exports,Ir=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-select",{staticClass:"tags-column",attrs:{multiple:"",filterable:"","allow-create":"","collapse-tags":"",size:"mini",placeholder:"Choose tags..."},on:{change:t.onTagListChange,"remove-tag":t.onRemoveTag,"visible-change":t.onPickerStateChange},model:{value:t.newTagList,callback:function(e){t.newTagList=e},expression:"newTagList"}},t._l(t.boardTags,(function(t){return r("el-option",{key:t,attrs:{value:t}})})),1)},Dr=[],$r=(r("caad"),r("2532"),{props:{value:{},board:{type:Object,required:!0}},data:function(){return{newTagList:[],isDirty:!1}},computed:{boardTags:function(){return this.board.tags}},methods:{onTagListChange:function(){this.isDirty=!0},onRemoveTag:function(){this.$emit("add-activity",{type:"change tag count",msg:"change tag count to "+this.newTagList.length}),this.$emit("input",this.newTagList)},onPickerStateChange:function(t){var e=this;!t&&this.isDirty&&(this.newTagList.forEach((function(t){e.boardTags.includes(t)||e.boardTags.unshift(t)})),this.$emit("add-activity",{type:"change tag count",msg:"change tags count to "+this.newTagList.length}),this.$emit("input",this.newTagList))}},created:function(){this.value&&(this.newTagList=this.value)},watch:{value:function(t){this.newTagList=t}}}),jr=$r,Rr=Object(i["a"])(jr,Ir,Dr,!1,null,null,null),Ar=Rr.exports,Gr={props:{task:Object,groupId:String},data:function(){return{title:this.task.title,currTask:this.task,isHover:!1,isEditTitle:!1}},created:function(){this.currTask=JSON.parse(JSON.stringify(this.task))},mounted:function(){this.$refs.editTitle&&this.$refs.editTitle.focus()},watch:{task:function(t){this.currTask=JSON.parse(JSON.stringify(t))}},computed:{boardMembers:function(){return this.$store.getters.currBoard.members},isEdit:function(){return this.isEditTitle?"":"handle-task"},currBoard:function(){return this.$store.getters.currBoard}},methods:{toggleEdit:function(t){var e=this;this.isEditTitle=t,setTimeout((function(){e.$refs.editTitle&&e.$refs.editTitle.focus()}),0)},togglehover:function(t){this.isHover=t},openTaskDetails:function(){this.$emit("openTaskDetails",this.task.id)},addActivity:function(t){var e;!0===this.isEditTitle?(e="edit task name from "+this.task.title+" to "+this.currTask.title,this.$store.commit({type:"setActivity",itemId:this.currTask.id,itemName:this.currTask.title,typeActivity:"Edit task name",msg:e})):t&&this.$store.commit({type:"setActivity",itemId:this.currTask.id,itemName:this.currTask.title,typeActivity:t.type,msg:t.msg})},updateTask:function(){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return!0===t.isEditTitle&&t.addActivity(),e.next=3,t.$store.dispatch({type:"updateTask",task:t.currTask,groupId:t.groupId});case 3:t.toggleEdit(!1);case 4:case"end":return e.stop()}}),e)})))()},removeTask:function(){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("removing"),e.next=3,t.$store.dispatch({type:"removeTask",task:t.task,groupId:t.groupId});case 3:case"end":return e.stop()}}),e)})))()},duplicateTask:function(){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=JSON.parse(JSON.stringify(t.task)),r.title="Copy of "+t.task.title,r.id=_t.makeId(),e.next=5,t.$store.dispatch({type:"duplicateTask",task:t.task,taskCopy:r,groupId:t.groupId});case 5:case"end":return e.stop()}}),e)})))()},componentType:function(t){return Tt.componentType(t)}},components:{personColumn:ir,statusColumn:Br,dateColumn:Nr,tagsColumn:Ar}},Jr=Gr,Ur=Object(i["a"])(Jr,Fe,Pe,!1,null,null,null),Mr=Ur.exports,Fr=r("b76a"),Pr=r.n(Fr),Lr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.tags?r("section",{staticClass:"tag-summery"},t._l(t.tags,(function(e,n){return r("div",{key:n},[t._v("#"+t._s(e))])})),0):t._e()},qr=[],zr=(r("6062"),r("3ca3"),r("ddb0"),{props:{groupId:{type:String,required:!0},group:Object},data:function(){return{tags:[]}},created:function(){this.loadTags()},computed:{currGroup:function(){var t=this,e=this.$store.getters.currBoard.groups;return e.find((function(e){return e.id===t.groupId}))}},methods:{loadTags:function(){var t=[];this.group.tasks.forEach((function(e){e.columns["tags"].forEach((function(e){return t.push(e)}))})),this.tags=Object(_e["a"])(new Set(t))}},watch:{group:function(){this.loadTags()}}}),Hr=zr,Vr=Object(i["a"])(Hr,Lr,qr,!1,null,null,null),Yr=Vr.exports,Kr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.delegates?r("section",{staticClass:"delegate-summery"},t._l(t.delegates,(function(t,e){return r("div",{key:e},[r("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:t.fullname,placement:"top"}},[r("avatar",{attrs:{username:t.fullname,inline:!0,size:27,src:t.imgUrl}})],1)],1)})),0):t._e()},Wr=[],Zr={props:{groupId:{type:String,required:!0},group:Object},data:function(){return{delegates:[]}},created:function(){this.loadPersons()},computed:{currGroup:function(){var t=this,e=this.$store.getters.currBoard.groups;return e.find((function(e){return e.id===t.groupId}))}},methods:{loadPersons:function(){var t=[];this.group.tasks.forEach((function(e){e.columns["delegates"].forEach((function(e){return t.push(e)}))})),this.delegates=t.filter((function(t,e,r){return e===r.findIndex((function(e){return e._id===t._id}))}))}},watch:{group:function(){this.loadPersons()}},components:{Avatar:De.a}},Qr=Zr,Xr=Object(i["a"])(Qr,Kr,Wr,!1,null,null,null),tn=Xr.exports,en=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.statuses?r("section",{staticClass:"status-summery"},[r("div",{staticClass:"battery"},[r("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"Stuck: "+t.percentOfTotal(t.statuses["Stuck"]).toFixed(0)+"%",placement:"top"}},[t.percentOfTotal(t.statuses["Stuck"])?r("div",{staticClass:"stuck",style:{width:t.percentOfTotal(t.statuses["Stuck"])+"%",backgroundColor:"rgb(232, 105, 125)"}}):t._e()]),r("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"Done: "+t.percentOfTotal(t.statuses["Done"]).toFixed(0)+"%",placement:"top"}},[t.percentOfTotal(t.statuses["Done"])?r("div",{staticClass:"done",style:{width:t.percentOfTotal(t.statuses["Done"])+"%",backgroundColor:"rgb(51, 211, 145)"}}):t._e()]),r("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"In progress: "+t.percentOfTotal(t.statuses["In progress"]).toFixed(0)+"%",placement:"top"}},[t.percentOfTotal(t.statuses["In progress"])?r("div",{staticClass:"in-progress",style:{width:t.percentOfTotal(t.statuses["In progress"])+"%",backgroundColor:"rgb(253, 188, 100)"}}):t._e()]),r("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"Empty: "+t.percentOfTotal(t.statuses[""]).toFixed(0)+"%",placement:"top"}},[t.percentOfTotal(t.statuses[""])?r("div",{staticClass:"empty",style:{width:t.percentOfTotal(t.statuses[""])+"%",backgroundColor:"rgb(196, 196, 196)"}}):t._e()])],1)]):t._e()},rn=[],nn={props:{groupId:{type:String,required:!0},group:Object},data:function(){return{taskCount:0,statuses:{}}},created:function(){this.loadBattery()},computed:{currGroup:function(){var t=this,e=this.$store.getters.currBoard.groups;return e.find((function(e){return e.id===t.groupId}))}},methods:{loadBattery:function(){var t=this;this.group.tasks.forEach((function(e){var r=e.columns.status.txt;t.statuses[r]?t.statuses[r]+=1:t.statuses[r]=1,t.taskCount++}))},percentOfTotal:function(t){return t/this.taskCount*100}},watch:{group:function(){this.statuses={},this.taskCount=0,this.loadBattery()}}},an=nn,sn=Object(i["a"])(an,en,rn,!1,null,null,null),on=sn.exports,cn=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"date-summery"},[r("div",[r("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:t.differenceInTime(this.minDate,this.maxDate),placement:"top"}},[r("p",[t._v(" "+t._s(new Date(this.minDate).getDate())+" "+t._s(t.getMonthForamt(new Date(this.minDate)))+" - "+t._s(new Date(this.maxDate).getDate())+" "+t._s(t.getMonthForamt(new Date(this.maxDate)))+" ")])])],1)])},un=[],ln=(r("b65f"),{props:{groupId:{type:String,required:!0},group:Object},data:function(){return{minDate:1/0,maxDate:-1/0,isDaysShown:!1}},created:function(){this.loadDates()},computed:{currGroup:function(){var t=this,e=this.$store.getters.currBoard.groups;return e.find((function(e){return e.id===t.groupId}))}},methods:{loadDates:function(){var t=this;this.group.tasks.forEach((function(e){e.columns["date"]<t.minDate&&(t.minDate=e.columns["date"]),e.columns["date"]>t.maxDate&&(t.maxDate=e.columns["date"])}))},getMonthForamt:function(t){var e=["January","February","March","April","May","June","July","August","September","October","November","December"];return e[t.getMonth()]},differenceInTime:function(t,e){var r=new Date(e).getTime()-new Date(t).getTime();return Math.trunc(r/864e5)+" Days"}},watch:{group:function(){this.loadDates()}}}),dn=ln,pn=Object(i["a"])(dn,cn,un,!1,null,null,null),mn=pn.exports,fn={props:{tasks:Array,color:Object,groupId:String,group:Object},components:{taskPreview:Mr,draggable:Pr.a,tagsSummery:Yr,personSummery:tn,statusSummery:on,dateSummery:mn},data:function(){return{tasksCopy:null,taskToAdd:null,summeryComponents:[on,mn,tn,Yr]}},created:function(){this.taskToAdd=JSON.parse(JSON.stringify(this.$store.getters.getEmptyTask)),this.tasksCopy=JSON.parse(JSON.stringify(this.tasks))},watch:{tasks:function(t){this.tasksCopy=JSON.parse(JSON.stringify(t))}},methods:{openTaskDetails:function(t){this.$emit("openTaskDetails",t)},addTask:function(){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!==t.taskToAdd.title){e.next=2;break}return e.abrupt("return");case 2:return t.taskToAdd.createdAt=Date.now(),e.next=5,t.$store.dispatch({type:"addTask",task:t.taskToAdd,groupId:t.groupId});case 5:t.taskToAdd=t.$store.getters.getEmptyTask;case 6:case"end":return e.stop()}}),e)})))()},changeTasks:function(){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch({type:"saveTasks",tasks:t.tasksCopy,groupId:t.groupId});case 2:case"end":return e.stop()}}),e)})))()}}},gn=fn,hn=Object(i["a"])(gn,Ue,Me,!1,null,null,null),vn=hn.exports,wn={props:{groups:Array},data:function(){return{isAllCollapse:!1,groupsCopy:null,collapsedGroups:[],isGroupCollapse:null,isEditingState:!1,currEditedGroup:null,predefineColors:["#ff4500","#ff8c00","#ffd700","#90ee90","#00ced1","#1e90ff","#c71585","rgba(255, 69, 0, 0.68)","rgb(255, 120, 0)","hsv(51, 100, 98)","hsva(120, 40, 94, 0.5)","hsl(181, 100%, 37%)","hsla(209, 100%, 56%, 0.73)","#c7158577"],sortColumn:"",sortDir:1}},created:function(){this.groupsCopy=JSON.parse(JSON.stringify(this.groups))},watch:{groups:function(t){this.groupsCopy=JSON.parse(JSON.stringify(t))}},components:{taskList:vn,draggable:Pr.a},computed:{columns:{get:function(){return this.$store.getters.currBoard.columns},set:function(t){this.$store.commit({type:"setColumns",columns:t})}}},methods:{onStart:function(){this.isAllCollapse=!0},onEnd:function(){this.$emit("updateDrag",this.groupsCopy),this.isAllCollapse=!1},collapseSingleGroup:function(t){this.collapsedGroups.push(t)},openSingleGroup:function(t){this.isAllCollapse=!1;var e=this.collapsedGroups.findIndex((function(e){return e===t}));this.collapsedGroups.splice(e,1)},collapseGroups:function(){this.collapsedGroups=this.groups.map((function(t){return t.id})),this.isAllCollapse=!0},openGroups:function(){this.isAllCollapse=!1,this.collapsedGroups=[]},setToEdit:function(t,e){var r=this;setTimeout((function(){r.$refs[e][0].focus()}),0),this.currEditedGroup=t.id,this.isEditingState=!0},updateGroupName:function(t){this.$emit("updateGroupName",t),this.isEditingState=!1,this.currEditedGroup=null},removeGroup:function(t){this.$emit("removeGroup",t)},duplicateGroup:function(t){var e=JSON.parse(JSON.stringify(t));this.$emit("duplicateGroup",e)},changeColor:function(t){this.$emit("changeColor",t)},openTaskDetails:function(t){this.$emit("openTaskDetails",t)},sortBy:function(t,e){this.sortColumn===t?this.sortDir*=-1:(this.sortColumn=t,this.sortDir=1),e.sort(Tt[t].compare),-1===this.sortDir&&e.reverse()},columnSortIcon:function(t){return this.sortColumn!==t?"":1===this.sortDir?"fas fa-arrow-up":"fas fa-arrow-down"}}},bn=wn,kn=Object(i["a"])(bn,Ge,Je,!1,null,null,null),yn=kn.exports,xn={data:function(){return{}},computed:{board:function(){return JSON.parse(JSON.stringify(this.$store.getters.currBoard))},date:function(){return this.$store.getters.currBoard.groups[0].tasks[0].columns["date"]}},created:function(){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("CREATING"),e.next=3,t.loadBoard();case 3:return e.next=5,Se.setup();case 5:console.log("in board"),Se.emit("in-board",t.board._id),Se.on("board-updated",t.updateBoard);case 8:case"end":return e.stop()}}),e)})))()},destroyed:function(){Se.emit("left-board",this.board._id)},methods:{updateBoard:function(t){console.log("update recieved on socket\n",t),this.$store.commit({type:"loadBoard",board:t})},loadBoard:function(){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,r=t.$route.params.boardId,e.next=4,t.$store.dispatch({type:"loadBoard",boardId:r});case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e["catch"](0),console.log("Couldnt load board");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},updateDrag:function(t){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.$store.dispatch({type:"saveGroups",updatedGroups:t});case 3:r.next=8;break;case 5:r.prev=5,r.t0=r["catch"](0),console.log("Couldnt updated the order of the groups",r.t0);case 8:case"end":return r.stop()}}),r,null,[[0,5]])})))()},updateTitles:function(t){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.$store.dispatch({type:"saveBoard",board:t});case 3:r.next=8;break;case 5:r.prev=5,r.t0=r["catch"](0),console.log("Couldnt updated the titles",r.t0);case 8:case"end":return r.stop()}}),r,null,[[0,5]])})))()},addNewGroup:function(){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch({type:"addNewGroup"});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),console.log("Couldnt Added the new Group",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))()},updateGroupName:function(t){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.$store.dispatch({type:"updateGroupName",updatedGroup:t});case 3:r.next=8;break;case 5:r.prev=5,r.t0=r["catch"](0),console.log("Couldnt updated the name of the group",r.t0);case 8:case"end":return r.stop()}}),r,null,[[0,5]])})))()},removeGroup:function(t){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.$store.dispatch({type:"removeGroup",group:t});case 3:r.next=8;break;case 5:r.prev=5,r.t0=r["catch"](0),console.log("Couldnt remove the group",r.t0);case 8:case"end":return r.stop()}}),r,null,[[0,5]])})))()},duplicateGroup:function(t){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.$store.dispatch({type:"duplicateGroup",duplicatedGroup:t});case 3:r.next=8;break;case 5:r.prev=5,r.t0=r["catch"](0),console.log("Couldnt duplicate the group",r.t0);case 8:case"end":return r.stop()}}),r,null,[[0,5]])})))()},changeColor:function(t){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.$store.dispatch({type:"updateGroup",group:t});case 3:r.next=8;break;case 5:r.prev=5,r.t0=r["catch"](0),console.log("Couldnt change the color of the group",r.t0);case 8:case"end":return r.stop()}}),r,null,[[0,5]])})))()},openTaskDetails:function(t){var e=this.$store.getters.currBoard;this.$router.push("/board/".concat(e._id,"/task/").concat(t))},setFilter:function(t){console.log("filterBy :>> ",t),this.$store.dispatch({type:"setFilter",filterBy:t})}},watch:{"$route.params.boardId":{immediate:!0,handler:function(){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Se.emit("left-board",t.board._id);case 2:t.loadBoard(),Se.emit("in-board",t.$route.params.boardId);case 4:case"end":return e.stop()}}),e)})))()}}},components:{boardHeader:Ae,groupList:yn}},_n=xn,Bn=Object(i["a"])(_n,ye,xe,!1,null,null,null),Cn=Bn.exports,On=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-drawer",{attrs:{visible:t.drawer,title:t.currTask.title},on:{"update:visible":function(e){t.drawer=e}}},[r("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[r("el-tab-pane",{attrs:{label:"Updates",name:"Updates"}},[t.updates?r("chat-box",{attrs:{updates:t.updates}}):t._e()],1),r("el-tab-pane",{attrs:{label:"Activity log",name:"Activity log"}},[t.activities?r("activity-list",{attrs:{activities:t.activities}}):t._e()],1)],1)],1)},Sn=[],Tn=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",t._l(t.activities,(function(t,e){return r("activity-preview",{key:e,attrs:{activity:t}})})),1)},En=[],Nn=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"activity-preview"},[r("el-card",{staticClass:"activity-card",attrs:{shadow:"hover"}},[r("avatar",{staticClass:"person-preview-avatar",attrs:{username:t.activity.createdBy.fullname,inline:!0,size:30,src:t.activity.createdBy.imgUrl}}),r("span",[t._v(t._s(t.activity.msg))])],1)],1)},In=[],Dn={props:{activity:Object},methods:{},components:{Avatar:De.a}},$n=Dn,jn=Object(i["a"])($n,Nn,In,!1,null,null,null),Rn=jn.exports,An={components:{activityPreview:Rn},props:{activities:Array}},Gn=An,Jn=Object(i["a"])(Gn,Tn,En,!1,null,null,null),Un=Jn.exports,Mn=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"chat-box"},[r("p",{directives:[{name:"show",rawName:"v-show",value:!t.isEditingState,expression:"!isEditingState"}],on:{click:function(e){return t.setToEdit()}}},[t._v("write an update")]),r("textarea",{directives:[{name:"show",rawName:"v-show",value:t.isEditingState,expression:"isEditingState"},{name:"model",rawName:"v-model",value:t.txt,expression:"txt"}],ref:"description",attrs:{type:"textarea",rows:"4",cols:"50",placeholder:"write an update"},domProps:{value:t.txt},on:{input:function(e){e.target.composing||(t.txt=e.target.value)}}}),t._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:t.saveAction}},[t._v("Primary")]),r("msg-list",{attrs:{updates:t.updates}})],1)},Fn=[],Pn=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",t._l(t.updates,(function(t,e){return r("msg-preview",{key:e,attrs:{update:t}})})),1)},Ln=[],qn=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"msg-preview"},[r("div",{staticClass:"msg-header"},[r("avatar",{staticClass:"person-preview-avatar",attrs:{username:t.update.createdBy.fullname,inline:!0,size:40}}),t._v(" "+t._s(t.update.createdBy.fullname)+" ")],1),r("div",{staticClass:"msg-body"},[r("div",{staticClass:"msg-txt"},[t._v(t._s(t.update.txt))])]),t.update.likedBy.length?r("div",{staticClass:"liked-by"},[t._l(t.update.likedBy,(function(t){return r("el-tooltip",{key:t._id,staticClass:"item",attrs:{effect:"light",content:t.fullname,placement:"top"}},[r("avatar",{staticClass:"person-preview-avatar",attrs:{username:t.fullname,inline:!0,size:20}})],1)})),t._v(" Liked ")],2):t._e(),r("div",{staticClass:"msg-footer",on:{click:t.addLike}},[t._m(0),t._m(1)])])},zn=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("button",[r("i",{staticClass:"far fa-thumbs-up"}),t._v(" Like")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("button",[r("i",{staticClass:"fas fa-reply"}),t._v(" Reply")])}],Hn={props:{update:Object},data:function(){return{}},components:{Avatar:De.a},methods:{addLike:function(){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch({type:"toggleUpdateLike",id:t.update.id});case 2:case"end":return e.stop()}}),e)})))()}}},Vn=Hn,Yn=Object(i["a"])(Vn,qn,zn,!1,null,null,null),Kn=Yn.exports,Wn={props:{updates:Array},components:{msgPreview:Kn}},Zn=Wn,Qn=Object(i["a"])(Zn,Pn,Ln,!1,null,null,null),Xn=Qn.exports,ta={components:{msgList:Xn},props:{updates:Array},data:function(){return{isEditingState:!1,txt:""}},created:function(){},methods:{setToEdit:function(){this.isEditingState=!this.isEditingState},saveAction:function(){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch({type:"saveUpdate",itemId:t.$route.params.id,txt:t.txt});case 2:t.setToEdit();case 3:case"end":return e.stop()}}),e)})))()}}},ea=ta,ra=Object(i["a"])(ea,Mn,Fn,!1,null,null,null),na=ra.exports,aa={components:{activityList:Un,ChatBox:na},data:function(){return{currTask:null,drawer:!0,activeName:"Updates",activities:[],updates:[]}},watch:{drawer:function(){var t=this;setTimeout((function(){t.closeDetails()}),100)}},created:function(){var t=this,e=this.$store.getters.currBoard,r=this.$route.params.id;e.groups.forEach((function(e){return e.tasks.forEach((function(e){e.id===r&&(t.currTask=e)}))})),this.activities=this.$store.getters.getActivitiesByItem(r),console.log(this.activities),this.updates=this.$store.getters.getUpdatesByItem(r),console.log(this.updates)},methods:{closeDetails:function(){this.$router.push("/board/".concat(this.$route.params.boardId))},handleClick:function(t,e){console.log(t,e)}}},sa=aa,ia=Object(i["a"])(sa,On,Sn,!1,null,null,null),oa=ia.exports,ca=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"board-app"},[r("navbar"),r("el-calendar",{staticClass:"calendar",model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)},ua=[],la={data:function(){return{value:new Date}},components:{navbar:ot}},da=la,pa=(r("0ba4"),Object(i["a"])(da,ca,ua,!1,null,null,null)),ma=pa.exports;n["default"].use(d["a"]);var fa=[{path:"/",name:"home",component:Y},{path:"/about",name:"about",component:X},{path:"/login",name:"login",component:q},{path:"/calendar",name:"calendar",component:ma},{path:"/board",name:"board",component:ke,children:[{path:":boardId",name:"boardDetails",component:Cn,children:[{path:"task/:id",name:"taskDetails",component:oa}]}]}],ga=new d["a"]({mode:"history",base:"/",routes:fa}),ha=ga,va=r("2f62"),wa=(r("a4d3"),r("e01a"),10),ba={login:Sa,logout:Ia,signup:Ea,getUsers:ka,getById:ya,remove:xa,update:_a,getLoggedinUser:ja,increaseScore:Ca};function ka(){return w.query("user")}function ya(t){return w.get("user",t)}function xa(t){return w.remove("user",t)}function _a(t){return Ba.apply(this,arguments)}function Ba(){return Ba=Object(h["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",w.put("user",e));case 1:case"end":return t.stop()}}),t)}))),Ba.apply(this,arguments)}function Ca(){return Oa.apply(this,arguments)}function Oa(){return Oa=Object(h["a"])(regeneratorRuntime.mark((function t(){var e,r,n=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:wa,r=ja(),r.score=r.score+e||e,t.next=5,_a(r);case 5:return t.abrupt("return",r.score);case 6:case"end":return t.stop()}}),t)}))),Oa.apply(this,arguments)}function Sa(t){return Ta.apply(this,arguments)}function Ta(){return Ta=Object(h["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,kt.post("auth/login",e);case 2:if(r=t.sent,!r){t.next=5;break}return t.abrupt("return",$a(r));case 5:case"end":return t.stop()}}),t)}))),Ta.apply(this,arguments)}function Ea(t){return Na.apply(this,arguments)}function Na(){return Na=Object(h["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,kt.post("auth/signup",e);case 2:return r=t.sent,t.abrupt("return",$a(r));case 4:case"end":return t.stop()}}),t)}))),Na.apply(this,arguments)}function Ia(){return Da.apply(this,arguments)}function Da(){return Da=Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return sessionStorage.clear(),t.next=3,kt.post("auth/logout");case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)}))),Da.apply(this,arguments)}function $a(t){return sessionStorage.setItem("loggedinUser",JSON.stringify(t)),t}function ja(){return console.log("logged in as",JSON.parse(sessionStorage.getItem("loggedinUser")||"null")),JSON.parse(sessionStorage.getItem("loggedinUser")||"null")}window.userService=ba;var Ra={strict:!0,state:{boards:[],currBoard:null,loggedinUser:null},mutations:{setBoards:function(t,e){var r=e.boards;t.boards=r},loadBoard:function(t,e){var r=e.board;t.currBoard=r},setLoggedinUser:function(t){t.loggedinUser=ba.getLoggedinUser(),console.log("state.loggedinUser",t.loggedinUser)},removeBoard:function(t,e){var r=e.boardId,n=t.boards.findIndex((function(t){return t._id===r}));t.boards.splice(n,1)},updateBoard:function(t,e){var r=e.updateBoard,n=t.boards.findIndex((function(t){return t._id===r._id}));t.boards.splice(n,1,r),t.currBoard=r,console.log("state.currBoard.groups",t.currBoard.groups)},setFilter:function(t,e){var r=e.filteredBoard;t.currBoard=r},setActivity:function(t,e){var r=e.itemId,n=e.itemName,a=e.typeActivity,s=e.msg,i=Ht.getEmptyActivity();i.itemId=r,i.itemName=n,i.createdAt=Date.now(),i.createdBy=t.loggedinUser||{_id:"u101",fullname:"Guest user",imgUrl:""},i.type=a,i.msg=s,t.currBoard.activities.unshift(i),console.log(" state.currBoard.activities",t.currBoard.activities)},setUpdate:function(t,e){var r=e.itemId,n=e.txt;console.log("stste",t);var a=Ht.getEmptyUpdate();a.createdAt=Date.now(),a.itemId=r,a.createdBy=t.loggedinUser||{_id:"u101",fullname:"Guest user",imgUrl:""},a.txt=n,t.currBoard.updates?t.currBoard.updates.unshift(a):t.currBoard["updates"]=[a],console.log("state.currBoard.updates",t.currBoard.updates)},setFilterList:function(t,e){var r=e.filteredBoards;t.boards=r},toggleLike:function(t,e){var r=e.id;console.log("id",r);var n=t.currBoard.updates.findIndex((function(t){return t.id===r}));console.log("updateIdx",n);var a=t.loggedinUser||{_id:"u101",fullname:"Guest user",imgUrl:""};console.log("userToToggle",a),console.log("state.currBoard.updates",t.currBoard.updates[n]);var s=t.currBoard.updates[n].likedBy.findIndex((function(t){return t._id===a._id}));-1===s?t.currBoard.updates[n].likedBy.push(a):t.currBoard.updates[n].likedBy.splice(s,1)},setColumns:function(t,e){var r=e.columns;t.currBoard.columns=r}},actions:{loadBoards:function(t){return Object(h["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ht.query();case 2:r=e.sent,t.commit({type:"setBoards",boards:r});case 4:case"end":return e.stop()}}),e)})))()},loadBoard:function(t,e){return Object(h["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.boardId,r.next=3,Ht.getById(n);case 3:a=r.sent,t.commit({type:"loadBoard",board:a});case 5:case"end":return r.stop()}}),r)})))()},saveBoard:function(t,e){return Object(h["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.board,r.next=3,Ht.save(n);case 3:return a=r.sent,r.next=6,t.dispatch({type:"loadBoards"});case 6:t.commit({type:"loadBoard",board:a}),console.log("about to emit board change"),Se.emit("board-updated",n);case 9:case"end":return r.stop()}}),r)})))()},saveMiniBoard:function(t,e){return Object(h["a"])(regeneratorRuntime.mark((function r(){var n,a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(n=e.miniBoard,r.prev=1,n._id!==t.getters.currBoard._id){r.next=6;break}a=JSON.parse(JSON.stringify(t.getters.currBoard)),r.next=9;break;case 6:return r.next=8,Ht.getById(n._id);case 8:a=r.sent;case 9:return a.title=n.title,a.description=n.description,a.isFavorite=n.isFavorite,r.next=14,Ht.save(a);case 14:return s=r.sent,r.next=17,t.dispatch({type:"loadBoards"});case 17:t.commit({type:"loadBoard",board:s}),r.next=23;break;case 20:r.prev=20,r.t0=r["catch"](1),console.log("couldnt save board",r.t0);case 23:case"end":return r.stop()}}),r,null,[[1,20]])})))()},removeBoard:function(t,e){return Object(h["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.boardId,console.log("boardId :>> ",n),r.next=4,Ht.remove(n);case 4:t.commit({type:"removeBoard",boardId:n});case 5:case"end":return r.stop()}}),r)})))()},duplicateBoard:function(t,e){return Object(h["a"])(regeneratorRuntime.mark((function r(){var n,a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.boardId,r.prev=1,r.next=4,Ht.getById(n);case 4:return a=r.sent,delete a._id,a.title="Copy of "+a.title,r.next=9,Ht.save(a);case 9:return s=r.sent,r.next=12,t.dispatch({type:"loadBoards"});case 12:t.commit({type:"loadBoard",board:s}),r.next=18;break;case 15:r.prev=15,r.t0=r["catch"](1),console.log("couldnt duplicate board",r.t0);case 18:case"end":return r.stop()}}),r,null,[[1,15]])})))()},setFilter:function(t,e){return Object(h["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.filterBy,r.prev=1,r.next=4,Ht.getById(t.state.currBoard._id,n);case 4:a=r.sent,t.commit({type:"setFilter",filteredBoard:a}),r.next=11;break;case 8:r.prev=8,r.t0=r["catch"](1),console.log("couldnt filtered",r.t0);case 11:case"end":return r.stop()}}),r,null,[[1,8]])})))()},saveUpdate:function(t,e){return Object(h["a"])(regeneratorRuntime.mark((function r(){var n,a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.itemId,a=e.txt,t.commit({type:"setUpdate",itemId:n,txt:a}),r.next=4,Ht.save(t.getters.currBoard);case 4:s=r.sent,t.commit({type:"loadBoard",board:s}),console.log("succccccccccc");case 7:case"end":return r.stop()}}),r)})))()},setFilterList:function(t,e){return Object(h["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.filterBy,r.prev=1,r.next=4,Ht.query(n);case 4:a=r.sent,t.commit({type:"setFilterList",filteredBoards:a}),r.next=11;break;case 8:r.prev=8,r.t0=r["catch"](1),console.log("couldnt filtered",r.t0);case 11:case"end":return r.stop()}}),r,null,[[1,8]])})))()},toggleUpdateLike:function(t,e){return Object(h["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:n=e.id,t.commit({type:"toggleLike",id:n}),t.dispatch({type:"saveBoard",board:t.getters.currBoard});case 3:case"end":return r.stop()}}),r)})))()}},getters:{getLoggedinUser:function(t){return t.loggedinUser},boards:function(t){return t.boards},currBoard:function(t){return t.currBoard},getEmptyTask:function(t){return Ht.getEmptyTask(t.currBoard)},getEmptyUpdate:function(){return Ht.getEmptyUpdate()},getActivitiesByItem:function(t){return function(e){return t.currBoard.activities.filter((function(t){return t.itemId===e}))}},getUpdatesByItem:function(t){return function(e){return t.currBoard.updates?t.currBoard.updates.filter((function(t){return t.itemId===e})):(t.currBoard["updates"]=[],t.currBoard.updates)}}}},Aa={strict:!0,actions:{updateGroupName:function(t,e){return Object(h["a"])(regeneratorRuntime.mark((function r(){var n,a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:n=e.updatedGroup,a=JSON.parse(JSON.stringify(t.getters.currBoard)),s=a.groups.findIndex((function(t){return t.id===n.id})),a.groups.splice(s,1,n);try{t.dispatch({type:"saveBoard",board:a})}catch(i){console.log("Error in taskStore => updateTask failed\n",i)}case 5:case"end":return r.stop()}}),r)})))()},removeGroup:function(t,e){return Object(h["a"])(regeneratorRuntime.mark((function r(){var n,a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:n=e.group,a=JSON.parse(JSON.stringify(t.getters.currBoard)),s=a.groups.findIndex((function(t){return t.id===n.id})),a.groups.splice(s,1);try{t.dispatch({type:"saveBoard",board:a})}catch(i){console.log("Error in taskStore => addTask failed\n",i)}case 5:case"end":return r.stop()}}),r)})))()},duplicateGroup:function(t,e){return Object(h["a"])(regeneratorRuntime.mark((function r(){var n,a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:n=e.duplicatedGroup,a=JSON.parse(JSON.stringify(t.getters.currBoard)),s=a.groups.findIndex((function(t){return t.id===n.id})),n.id=_t.makeId(),n.title="Copy of ".concat(n.title),a.groups.splice(s+1,0,n);try{t.dispatch({type:"saveBoard",board:a})}catch(i){console.log("Error in taskStore => addTask failed\n",i)}case 7:case"end":return r.stop()}}),r)})))()},updateGroup:function(t,e){return Object(h["a"])(regeneratorRuntime.mark((function r(){var n,a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:n=e.group,a=JSON.parse(JSON.stringify(t.getters.currBoard)),s=a.groups.findIndex((function(t){return t.id===n.id})),a.groups.splice(s,1,n);try{t.dispatch({type:"saveBoard",board:a})}catch(i){console.log("Error in taskStore => updateTask failed\n",i)}case 5:case"end":return r.stop()}}),r)})))()},addNewGroup:function(t){return Object(h["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=JSON.parse(JSON.stringify(t.getters.currBoard)),n=Ht.getEmptyGroup(),r.groups.push(n);try{t.dispatch({type:"saveBoard",board:r})}catch(a){console.log("Error in taskStore => addTask failed\n",a)}case 4:case"end":return e.stop()}}),e)})))()},saveGroups:function(t,e){return Object(h["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:n=e.updatedGroups,a=JSON.parse(JSON.stringify(t.getters.currBoard)),a.groups=n;try{t.dispatch({type:"saveBoard",board:a})}catch(s){console.log("Error in taskStore => addTask failed\n",s)}case 4:case"end":return r.stop()}}),r)})))()}}},Ga={strict:!0,actions:{updateTask:function(t,e){return Object(h["a"])(regeneratorRuntime.mark((function r(){var n,a,s,i,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:n=e.task,a=e.groupId,s=JSON.parse(JSON.stringify(t.getters.currBoard)),i=s.groups.findIndex((function(t){return t.id===a})),o=s.groups[i].tasks.findIndex((function(t){return t.id===n.id})),s.groups[i].tasks.splice(o,1,n);try{t.dispatch({type:"saveBoard",board:s})}catch(c){console.log("Error in taskStore => updateTask failed\n",c)}case 6:case"end":return r.stop()}}),r)})))()},addTask:function(t,e){return Object(h["a"])(regeneratorRuntime.mark((function r(){var n,a,s,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:n=e.task,a=e.groupId,s=JSON.parse(JSON.stringify(t.getters.currBoard)),i=s.groups.findIndex((function(t){return t.id===a})),s.groups[i].tasks.push(n);try{t.dispatch({type:"saveBoard",board:s})}catch(o){console.log("Error in taskStore => addTask failed\n",o)}case 5:case"end":return r.stop()}}),r)})))()},duplicateTask:function(t,e){return Object(h["a"])(regeneratorRuntime.mark((function r(){var n,a,s,i,o,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:n=e.task,a=e.taskCopy,s=e.groupId,i=JSON.parse(JSON.stringify(t.getters.currBoard)),o=i.groups.findIndex((function(t){return t.id===s})),c=i.groups[o].tasks.findIndex((function(t){return t.id===n.id})),i.groups[o].tasks.splice(c+1,0,a);try{t.dispatch({type:"saveBoard",board:i})}catch(u){console.log("Error in taskStore => addTask failed\n",u)}case 6:case"end":return r.stop()}}),r)})))()},removeTask:function(t,e){return Object(h["a"])(regeneratorRuntime.mark((function r(){var n,a,s,i,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:n=e.task,a=e.groupId,s=JSON.parse(JSON.stringify(t.getters.currBoard)),i=s.groups.findIndex((function(t){return t.id===a})),o=s.groups[i].tasks.findIndex((function(t){return t.id===n.id})),s.groups[i].tasks.splice(o,1);try{t.dispatch({type:"saveBoard",board:s})}catch(c){console.log("Error in taskStore => addTask failed\n",c)}case 6:case"end":return r.stop()}}),r)})))()},saveTasks:function(t,e){return Object(h["a"])(regeneratorRuntime.mark((function r(){var n,a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:n=e.tasks,a=e.groupId,s=t.getters.currBoard;try{console.log("save",t),t.commit({type:"changeTasks",tasks:n,groupId:a,board:s}),t.dispatch({type:"saveBoard",board:t.getters.currBoard})}catch(i){console.log("Error in taskStore => addTask failed\n",i)}case 3:case"end":return r.stop()}}),r)})))()}},mutations:{changeTasks:function(t,e){var r=e.tasks,n=e.groupId,a=e.board;console.log("save",t);var s=a.groups.findIndex((function(t){return t.id===n}));a.groups[s].tasks=r}},getters:{}};n["default"].use(va["a"]);var Ja=new va["a"].Store({strict:!0,modules:{boardStore:Ra,groupStore:Aa,taskStore:Ga}}),Ua=r("5c96"),Ma=r.n(Ua),Fa=(r("0fae"),r("b2d6")),Pa=r.n(Fa);r("3c61");n["default"].config.productionTip=!1,n["default"].use(Ma.a,{locale:Pa.a}),n["default"].use(De.a),n["default"].use(Pr.a),new n["default"]({router:ha,store:Ja,render:function(t){return t(u)}}).$mount("#app")},"591e":function(t,e,r){},6294:function(t,e,r){"use strict";r("437c")},"7baa":function(t,e,r){},"84ff":function(t,e,r){"use strict";r("7baa")},e537:function(t,e,r){t.exports=r.p+"img/logo-monday.a74df52c.png"},fe2b:function(t,e,r){t.exports=r.p+"img/loader.e9847c83.gif"}});
//# sourceMappingURL=app.a111ceb7.js.map